<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streamly.Internal.FileSystem.Event.Linux</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streamly-master: Beautiful Streaming, Concurrent and Reactive Composition</span><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.FileSystem.Event.Linux.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2020 Composewell Technologies</td></tr><tr><th>License</th><td>BSD-3-Clause</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.FileSystem.Event.Linux</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Subscribing to events</a><ul><li><a href="#g:2">Default configuration</a></li><li><a href="#g:3">Watch Behavior</a></li><li><a href="#g:4">Events of Interest</a><ul><li><a href="#g:5">Root Level Events</a></li><li><a href="#g:6">Item Level Metadata change</a></li><li><a href="#g:7">Item Level Access</a></li><li><a href="#g:8">Item CRUD events</a></li></ul></li><li><a href="#g:9">Watch APIs</a></li></ul></li><li><a href="#g:10">Handling Events</a><ul><li><a href="#g:11">Exception Conditions</a></li><li><a href="#g:12">Root Level Events</a></li><li><a href="#g:13">Item Level Metadata change</a></li><li><a href="#g:14">Item Level Access</a></li><li><a href="#g:15">Item CRUD events</a></li><li><a href="#g:16">Item Path info</a></li></ul></li><li><a href="#g:17">Debugging</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Overview</h1><p>Use <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:watchPaths" title="Streamly.Internal.FileSystem.Event.Linux">watchPaths</a></code> with a list of file system paths you want to watch as
 argument. It returns a stream of <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></code> representing the file system events
 occurring under the watched paths.</p><pre>Stream.mapM_ (putStrLn . <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:showEvent" title="Streamly.Internal.FileSystem.Event.Linux">showEvent</a></code>) $ <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:watchPaths" title="Streamly.Internal.FileSystem.Event.Linux">watchPaths</a></code> [Array.fromCString# &quot;dir&quot;#]
</pre><p><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></code> is an opaque type. Accessor functions (e.g. <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:showEvent" title="Streamly.Internal.FileSystem.Event.Linux">showEvent</a></code> above)
 provided in this module are used to determine the attributes of the event.</p><p>Identical successive events may be coalesced into a single event.</p><h1>Design notes</h1><p>For reference documentation see:</p><ul><li><a href="https://man7.org/linux/man-pages/man7/inotify.7.html">inotify man page</a></li></ul><p>We try to keep the macOS/Linux/Windows event handling APIs and defaults
 semantically and syntactically as close as possible.</p><h1>BUGs</h1><p>When testing on Linux Kernel version <code>5.3.0-53-generic #47-Ubuntu</code>, the last
 event for the root path seems to be delayed until one more event occurs.</p><h1>Differences between macOS and Linux APIs:</h1><ol><li>macOS watch is based on the path provided to it, if the path is
 deleted and recreated it will still be watched, if the path moves to another
 path it won't be watched anymore. Whereas Linux watch is based on a handle
 to the path, if the path is deleted and recreated it won't be watched, if
 the path moves to another it can still be watched (though this is
 configurable).</li></ol><ol><li>macOS watches the directory hierarchy recursively, Linux watches only one
 level of dir, recursive watch has to be built in user space by watching for
 create events and adding the new directories to the watch. Not sure how this
 will scale for too many paths.</li><li>In macOS the path of the subject of the event is absolute, in Linux the
 path is the name of the object inside the dir being watched.</li><li>On Linux <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:watchPaths" title="Streamly.Internal.FileSystem.Event.Linux">watchPaths</a></code> fails if a path does not exist, on macOS it does
 not fail.</li></ol></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Config">Config</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Toggle">Toggle</a><ul class="subs"><li>= <a href="#v:On">On</a></li><li>| <a href="#v:Off">Off</a></li></ul></li><li class="src short"><a href="#v:defaultConfig">defaultConfig</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setFollowSymLinks">setFollowSymLinks</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setUnwatchMoved">setUnwatchMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setOneShot">setOneShot</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setOnlyDir">setOnlyDir</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WhenExists">WhenExists</a><ul class="subs"><li>= <a href="#v:AddIfExists">AddIfExists</a></li><li>| <a href="#v:ReplaceIfExists">ReplaceIfExists</a></li><li>| <a href="#v:FailIfExists">FailIfExists</a></li></ul></li><li class="src short"><a href="#v:setWhenExists">setWhenExists</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:WhenExists" title="Streamly.Internal.FileSystem.Event.Linux">WhenExists</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setRootDeleted">setRootDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setRootMoved">setRootMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setMetadataChanged">setMetadataChanged</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setAccessed">setAccessed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setOpened">setOpened</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setWriteClosed">setWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setNonWriteClosed">setNonWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setCreated">setCreated</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setDeleted">setDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setMovedFrom">setMovedFrom</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setMovedTo">setMovedTo</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setModified">setModified</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:setAllEvents">setAllEvents</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></li><li class="src short"><a href="#v:watchPathsWith">watchPathsWith</a> :: (<a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></li><li class="src short"><a href="#v:watchPaths">watchPaths</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></li><li class="src short"><a href="#v:addToWatch">addToWatch</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; Watch -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Watch</li><li class="src short"><a href="#v:removeFromWatch">removeFromWatch</a> :: Watch -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Watch</li><li class="src short"><span class="keyword">data</span> <a href="#t:Event">Event</a></li><li class="src short"><a href="#v:getRoot">getRoot</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:getRelPath">getRelPath</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:getCookie">getCookie</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; Cookie</li><li class="src short"><a href="#v:isOverflow">isOverflow</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isRootUnwatched">isRootUnwatched</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isRootDeleted">isRootDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isRootMoved">isRootMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isRootUnmounted">isRootUnmounted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isMetadataChanged">isMetadataChanged</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isAccessed">isAccessed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isOpened">isOpened</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isWriteClosed">isWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isNonWriteClosed">isNonWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isCreated">isCreated</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isDeleted">isDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isMovedFrom">isMovedFrom</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isMovedTo">isMovedTo</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isModified">isModified</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isDir">isDir</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:showEvent">showEvent</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-String.html#t:String" title="Data.String">String</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Subscribing to events</h1></a><a href="#g:2" id="g:2"><h2>Default configuration</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Config" class="def">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#Config" class="link">Source</a> <a href="#t:Config" class="selflink">#</a></p><div class="doc"><p>Watch configuration, used to specify the events of interest and the
 behavior of the watch.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Toggle" class="def">Toggle</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#Toggle" class="link">Source</a> <a href="#t:Toggle" class="selflink">#</a></p><div class="doc"><p>Whether a setting is <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code> or <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:Off" title="Streamly.Internal.FileSystem.Event.Linux">Off</a></code>.</p><p><em>Internal</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:On" class="def">On</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Off" class="def">Off</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultConfig" class="def">defaultConfig</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#defaultConfig" class="link">Source</a> <a href="#v:defaultConfig" class="selflink">#</a></p><div class="doc"><p>The default is:</p><ul><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setFollowSymLinks" title="Streamly.Internal.FileSystem.Event.Linux">setFollowSymLinks</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code></li><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setUnwatchMoved" title="Streamly.Internal.FileSystem.Event.Linux">setUnwatchMoved</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code></li><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setOneShot" title="Streamly.Internal.FileSystem.Event.Linux">setOneShot</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:Off" title="Streamly.Internal.FileSystem.Event.Linux">Off</a></code></li><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setOnlyDir" title="Streamly.Internal.FileSystem.Event.Linux">setOnlyDir</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:Off" title="Streamly.Internal.FileSystem.Event.Linux">Off</a></code></li><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setWhenExists" title="Streamly.Internal.FileSystem.Event.Linux">setWhenExists</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:AddIfExists" title="Streamly.Internal.FileSystem.Event.Linux">AddIfExists</a></code></li><li><code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setAllEvents" title="Streamly.Internal.FileSystem.Event.Linux">setAllEvents</a></code> <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code></li></ul><p><em>Internal</em></p></div></div><a href="#g:3" id="g:3"><h2>Watch Behavior</h2></a><div class="top"><p class="src"><a id="v:setFollowSymLinks" class="def">setFollowSymLinks</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setFollowSymLinks" class="link">Source</a> <a href="#v:setFollowSymLinks" class="selflink">#</a></p><div class="doc"><p>If the pathname to be watched is a symbolic link then watch the target of
 the symbolic link instead of the symbolic link itself.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setUnwatchMoved" class="def">setUnwatchMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setUnwatchMoved" class="link">Source</a> <a href="#v:setUnwatchMoved" class="selflink">#</a></p><div class="doc"><p>If an object moves out of the directory being watched then stop watching
 it.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setOneShot" class="def">setOneShot</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setOneShot" class="link">Source</a> <a href="#v:setOneShot" class="selflink">#</a></p><div class="doc"><p>Watch the object only for one event and then remove it from the watch.</p><p><em>default: Off</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setOnlyDir" class="def">setOnlyDir</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setOnlyDir" class="link">Source</a> <a href="#v:setOnlyDir" class="selflink">#</a></p><div class="doc"><p>Watch the object only if it is a directory. This provides a race-free way
 to ensure that the watched object is a directory.</p><p><em>default: Off</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WhenExists" class="def">WhenExists</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#WhenExists" class="link">Source</a> <a href="#t:WhenExists" class="selflink">#</a></p><div class="doc"><p>What to do if a watch already exists when <code>openWatch</code> or <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:addToWatch" title="Streamly.Internal.FileSystem.Event.Linux">addToWatch</a></code> is
 called for a path.</p><p><em>Internal</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AddIfExists" class="def">AddIfExists</a></td><td class="doc"><p>Do not set an existing setting to <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:Off" title="Streamly.Internal.FileSystem.Event.Linux">Off</a></code> only set to <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code></p></td></tr><tr><td class="src"><a id="v:ReplaceIfExists" class="def">ReplaceIfExists</a></td><td class="doc"><p>Replace the existing settings with new settings</p></td></tr><tr><td class="src"><a id="v:FailIfExists" class="def">FailIfExists</a></td><td class="doc"><p>Fail the API</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:setWhenExists" class="def">setWhenExists</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:WhenExists" title="Streamly.Internal.FileSystem.Event.Linux">WhenExists</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setWhenExists" class="link">Source</a> <a href="#v:setWhenExists" class="selflink">#</a></p><div class="doc"><p>When adding a new path to the watch, specify what to do if a watch already
 exists on that path.</p><p><em>default: FailIfExists</em></p><p><em>Internal</em></p></div></div><a href="#g:4" id="g:4"><h2>Events of Interest</h2></a><a href="#g:5" id="g:5"><h3>Root Level Events</h3></a><div class="top"><p class="src"><a id="v:setRootDeleted" class="def">setRootDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setRootDeleted" class="link">Source</a> <a href="#v:setRootDeleted" class="selflink">#</a></p><div class="doc"><p>Report when the watched path itself gets deleted.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setRootMoved" class="def">setRootMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setRootMoved" class="link">Source</a> <a href="#v:setRootMoved" class="selflink">#</a></p><div class="doc"><p>Report when the watched root path itself gets renamed.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><a href="#g:6" id="g:6"><h3>Item Level Metadata change</h3></a><div class="top"><p class="src"><a id="v:setMetadataChanged" class="def">setMetadataChanged</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setMetadataChanged" class="link">Source</a> <a href="#v:setMetadataChanged" class="selflink">#</a></p><div class="doc"><p>Report when the metadata e.g. owner, permission modes, modifications times
 of an object changes.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><a href="#g:7" id="g:7"><h3>Item Level Access</h3></a><div class="top"><p class="src"><a id="v:setAccessed" class="def">setAccessed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setAccessed" class="link">Source</a> <a href="#v:setAccessed" class="selflink">#</a></p><div class="doc"><p>Report when a file is accessed.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setOpened" class="def">setOpened</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setOpened" class="link">Source</a> <a href="#v:setOpened" class="selflink">#</a></p><div class="doc"><p>Report when a file is opened.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setWriteClosed" class="def">setWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setWriteClosed" class="link">Source</a> <a href="#v:setWriteClosed" class="selflink">#</a></p><div class="doc"><p>Report when a file that was opened for writes is closed.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setNonWriteClosed" class="def">setNonWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setNonWriteClosed" class="link">Source</a> <a href="#v:setNonWriteClosed" class="selflink">#</a></p><div class="doc"><p>Report when a file that was opened for not writing is closed.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><a href="#g:8" id="g:8"><h3>Item CRUD events</h3></a><div class="top"><p class="src"><a id="v:setCreated" class="def">setCreated</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setCreated" class="link">Source</a> <a href="#v:setCreated" class="selflink">#</a></p><div class="doc"><p>Report when a file is created.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setDeleted" class="def">setDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setDeleted" class="link">Source</a> <a href="#v:setDeleted" class="selflink">#</a></p><div class="doc"><p>Report when a file is deleted.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setMovedFrom" class="def">setMovedFrom</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setMovedFrom" class="link">Source</a> <a href="#v:setMovedFrom" class="selflink">#</a></p><div class="doc"><p>Report the source of a move.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setMovedTo" class="def">setMovedTo</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setMovedTo" class="link">Source</a> <a href="#v:setMovedTo" class="selflink">#</a></p><div class="doc"><p>Report the target of a move.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setModified" class="def">setModified</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setModified" class="link">Source</a> <a href="#v:setModified" class="selflink">#</a></p><div class="doc"><p>Report when a file is modified.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:setAllEvents" class="def">setAllEvents</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Toggle" title="Streamly.Internal.FileSystem.Event.Linux">Toggle</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#setAllEvents" class="link">Source</a> <a href="#v:setAllEvents" class="selflink">#</a></p><div class="doc"><p>Set all events <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:On" title="Streamly.Internal.FileSystem.Event.Linux">On</a></code> or <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:Off" title="Streamly.Internal.FileSystem.Event.Linux">Off</a></code>.</p><p><em>default: On</em></p><p><em>Internal</em></p></div></div><a href="#g:9" id="g:9"><h2>Watch APIs</h2></a><div class="top"><p class="src"><a id="v:watchPathsWith" class="def">watchPathsWith</a> :: (<a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#watchPathsWith" class="link">Source</a> <a href="#v:watchPathsWith" class="selflink">#</a></p><div class="doc"><p>Start monitoring a list of file system paths for file system events with
 the supplied configuration operation over the <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:defaultConfig" title="Streamly.Internal.FileSystem.Event.Linux">defaultConfig</a></code>. The
 paths could be files or directories. When the path is a directory, only the
 files and directories directly under the watched directory are monitored,
 contents of subdirectories are not monitored.  Monitoring starts from the
 current time onwards. The paths are specified as UTF-8 encoded <code><a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a></code> of
 <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code>.</p><pre>watchPathsWith
 (<code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setFollowSymLinks" title="Streamly.Internal.FileSystem.Event.Linux">setFollowSymLinks</a></code> On . <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:setUnwatchMoved" title="Streamly.Internal.FileSystem.Event.Linux">setUnwatchMoved</a></code> Off)
 [Array.fromCString# &quot;dir&quot;#]
</pre><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:watchPaths" class="def">watchPaths</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streamly-Internal-Data-Stream-Serial.html#t:SerialT" title="Streamly.Internal.Data.Stream.Serial">SerialT</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#watchPaths" class="link">Source</a> <a href="#v:watchPaths" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:watchPathsWith" title="Streamly.Internal.FileSystem.Event.Linux">watchPathsWith</a></code> but uses the <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:defaultConfig" title="Streamly.Internal.FileSystem.Event.Linux">defaultConfig</a></code> options.</p><pre>watchPaths = watchPathsWith id
</pre><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:addToWatch" class="def">addToWatch</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a> -&gt; Watch -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Watch <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#addToWatch" class="link">Source</a> <a href="#v:addToWatch" class="selflink">#</a></p><div class="doc"><p>Given a <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Config" title="Streamly.Internal.FileSystem.Event.Linux">Config</a></code> and a <code>path</code> supplied as a UTF-8 encoded byte array, add
 the path to the list of paths being monitored by the given watch <code><a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.
 Returns a &quot;watch descriptor&quot; which is used as an idenitfier in the events
 generated for this particular path and also to remove the path from this
 watch.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:removeFromWatch" class="def">removeFromWatch</a> :: Watch -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Watch <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#removeFromWatch" class="link">Source</a> <a href="#v:removeFromWatch" class="selflink">#</a></p><div class="doc"><p>Remove a path from a <code>Watch</code>, if a path was moved after adding you need to
 need to provide the original path which was used to add the Watch.</p><p><em>Internal</em></p></div></div><a href="#g:10" id="g:10"><h1>Handling Events</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Event" class="def">Event</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#Event" class="link">Source</a> <a href="#t:Event" class="selflink">#</a></p><div class="doc"><p>An Event generated by the file system. Use the accessor functions to
 examine the event.</p><p><em>Internal</em></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Event">Instances</h4><details id="i:Event" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Event:Eq:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></span> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#line-652" class="link">Source</a> <a href="#t:Event" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Event:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-FileSystem-Event-Linux.html">Streamly.Internal.FileSystem.Event.Linux</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Event:Ord:2"></span> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></span> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#line-652" class="link">Source</a> <a href="#t:Event" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Event:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-FileSystem-Event-Linux.html">Streamly.Internal.FileSystem.Event.Linux</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Event:Show:3"></span> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></span> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#line-652" class="link">Source</a> <a href="#t:Event" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Event:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-FileSystem-Event-Linux.html">Streamly.Internal.FileSystem.Event.Linux</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getRoot" class="def">getRoot</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#getRoot" class="link">Source</a> <a href="#v:getRoot" class="selflink">#</a></p><div class="doc"><p>Get the watch descriptor corresponding to the <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></code>. A watch descriptor
 identifies which of the paths being monitored has generated this event.</p><p>Note that if a path was moved after adding to the watch, this will give the
 original path and not the new path after moving.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:getRelPath" class="def">getRelPath</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="Streamly-Internal-Data-Array-Storable-Foreign-Types.html#t:Array" title="Streamly.Internal.Data.Array.Storable.Foreign.Types">Array</a> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#getRelPath" class="link">Source</a> <a href="#v:getRelPath" class="selflink">#</a></p><div class="doc"><p>Get the file system object path for which the event is generated, relative
 to the watched root. The path is a UTF-8 encoded array of bytes.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:getCookie" class="def">getCookie</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; Cookie <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#getCookie" class="link">Source</a> <a href="#v:getCookie" class="selflink">#</a></p><div class="doc"><p>Cookie is set when a rename occurs. The cookie value can be used to
 connect the <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:isMovedFrom" title="Streamly.Internal.FileSystem.Event.Linux">isMovedFrom</a></code> and <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:isMovedTo" title="Streamly.Internal.FileSystem.Event.Linux">isMovedTo</a></code> events, if both the events belong
 to the same move operation then they will have the same cookie value.</p><p><em>Internal</em></p></div></div><a href="#g:11" id="g:11"><h2>Exception Conditions</h2></a><div class="top"><p class="src"><a id="v:isOverflow" class="def">isOverflow</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isOverflow" class="link">Source</a> <a href="#v:isOverflow" class="selflink">#</a></p><div class="doc"><p>Event queue overflowed (WD is invalid for this event) and we may have lost
 some events..  The user application must scan everything under the watched
 paths to know the current state.</p><p><em>Internal</em></p></div></div><a href="#g:12" id="g:12"><h2>Root Level Events</h2></a><div class="top"><p class="src"><a id="v:isRootUnwatched" class="def">isRootUnwatched</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isRootUnwatched" class="link">Source</a> <a href="#v:isRootUnwatched" class="selflink">#</a></p><div class="doc"><p>A path was removed from the watch explicitly using <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:removeFromWatch" title="Streamly.Internal.FileSystem.Event.Linux">removeFromWatch</a></code> or
 automatically (file was deleted, or filesystem was unmounted).</p><p><em>Occurs only for a watched path</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isRootDeleted" class="def">isRootDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isRootDeleted" class="link">Source</a> <a href="#v:isRootDeleted" class="selflink">#</a></p><div class="doc"><p>Watched file/directory was itself deleted.  (This event also occurs if an
 object is moved to another filesystem, since mv(1) in effect copies the file
 to the other filesystem and then deletes it from the original filesystem.)
 In addition, an <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:isRootUnwatched" title="Streamly.Internal.FileSystem.Event.Linux">isRootUnwatched</a></code> event will subsequently be generated
 for the watch descriptor.</p><p><em>Occurs only for a watched path</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isRootMoved" class="def">isRootMoved</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isRootMoved" class="link">Source</a> <a href="#v:isRootMoved" class="selflink">#</a></p><div class="doc"><p>Watched file/directory was itself moved within the file system.</p><p><em>Occurs only for a watched path</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isRootUnmounted" class="def">isRootUnmounted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isRootUnmounted" class="link">Source</a> <a href="#v:isRootUnmounted" class="selflink">#</a></p><div class="doc"><p>Filesystem containing watched object was unmounted.  In addition, an
 <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#v:isRootUnwatched" title="Streamly.Internal.FileSystem.Event.Linux">isRootUnwatched</a></code> event will subsequently be generated for the watch
 descriptor.</p><p><em>Occurs only for a watched path</em></p><p><em>Internal</em></p></div></div><a href="#g:13" id="g:13"><h2>Item Level Metadata change</h2></a><div class="top"><p class="src"><a id="v:isMetadataChanged" class="def">isMetadataChanged</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isMetadataChanged" class="link">Source</a> <a href="#v:isMetadataChanged" class="selflink">#</a></p><div class="doc"><p>Determine whether the event indicates inode metadata change for an object
 contained within the monitored path.</p><p>Metadata change may include, permissions (e.g., chmod(2)), timestamps
 (e.g., utimensat(2)), extended attributes (setxattr(2)), link count (since
 Linux 2.6.25; e.g., for the target of link(2) and for unlink(2)), and
 user/group ID (e.g., chown(2)).</p><p><em>Can occur for watched path or a file inside it</em></p><p><em>Internal</em></p></div></div><a href="#g:14" id="g:14"><h2>Item Level Access</h2></a><div class="top"><p class="src"><a id="v:isAccessed" class="def">isAccessed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isAccessed" class="link">Source</a> <a href="#v:isAccessed" class="selflink">#</a></p><div class="doc"><p>File was accessed (e.g. read, execve).</p><p><em>Occurs only for a file inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isOpened" class="def">isOpened</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isOpened" class="link">Source</a> <a href="#v:isOpened" class="selflink">#</a></p><div class="doc"><p>File or directory was opened.</p><p><em>Occurs only for a file inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isWriteClosed" class="def">isWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isWriteClosed" class="link">Source</a> <a href="#v:isWriteClosed" class="selflink">#</a></p><div class="doc"><p>File opened for writing was closed.</p><p><em>Occurs only for a file inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isNonWriteClosed" class="def">isNonWriteClosed</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isNonWriteClosed" class="link">Source</a> <a href="#v:isNonWriteClosed" class="selflink">#</a></p><div class="doc"><p>File or directory opened for read but not write was closed.</p><p><em>Can occur for watched path or a file inside it</em></p><p><em>Internal</em></p></div></div><a href="#g:15" id="g:15"><h2>Item CRUD events</h2></a><div class="top"><p class="src"><a id="v:isCreated" class="def">isCreated</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isCreated" class="link">Source</a> <a href="#v:isCreated" class="selflink">#</a></p><div class="doc"><p>File/directory created in watched directory (e.g., open(2) O_CREAT,
 mkdir(2), link(2), symlink(2), bind(2) on a UNIX domain socket).</p><p><em>Occurs only for an object inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isDeleted" class="def">isDeleted</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isDeleted" class="link">Source</a> <a href="#v:isDeleted" class="selflink">#</a></p><div class="doc"><p>File/directory deleted from watched directory.</p><p><em>Occurs only for an object inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isMovedFrom" class="def">isMovedFrom</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isMovedFrom" class="link">Source</a> <a href="#v:isMovedFrom" class="selflink">#</a></p><div class="doc"><p>Generated for the original path when an object is moved from under a
 monitored directory.</p><p><em>Occurs only for an object inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isMovedTo" class="def">isMovedTo</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isMovedTo" class="link">Source</a> <a href="#v:isMovedTo" class="selflink">#</a></p><div class="doc"><p>Generated for the new path when an object is moved under a monitored
 directory.</p><p><em>Occurs only for an object inside the watched directory</em></p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:isModified" class="def">isModified</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isModified" class="link">Source</a> <a href="#v:isModified" class="selflink">#</a></p><div class="doc"><p>Determine whether the event indicates modification of an object within the
 monitored path. This event is generated only for files and not directories.</p><p><em>Occurs only for an object inside the watched directory</em></p><p><em>Internal</em></p></div></div><a href="#g:16" id="g:16"><h2>Item Path info</h2></a><div class="top"><p class="src"><a id="v:isDir" class="def">isDir</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#isDir" class="link">Source</a> <a href="#v:isDir" class="selflink">#</a></p><div class="doc"><p>Determine whether the event is for a directory path.</p><p><em>Internal</em></p></div></div><a href="#g:17" id="g:17"><h1>Debugging</h1></a><div class="top"><p class="src"><a id="v:showEvent" class="def">showEvent</a> :: <a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Streamly.Internal.FileSystem.Event.Linux.html#showEvent" class="link">Source</a> <a href="#v:showEvent" class="selflink">#</a></p><div class="doc"><p>Convert an <code><a href="Streamly-Internal-FileSystem-Event-Linux.html#t:Event" title="Streamly.Internal.FileSystem.Event.Linux">Event</a></code> record to a String representation.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>